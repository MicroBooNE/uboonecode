#!/usr/bin/perl

gen_pmtrack();

sub gen_pmtrack 
{

    $PMTS = "micro-pmts" . $suffix . ".gdml";
    #push (@gdmlFiles, $PMTS); # Add file to list of GDML fragments
    $PMTS = ">" . $PMTS;
    open(PMTS) or die("Could not open file $PMTS for writing");

  @pmt_pos = ( ' x="-147.8"  y="3.21654"  z="-463.358"',
               ' x="-147.76" y="-52.6635" z="-403.121"',
               ' x="-147.8"  y="59.0965"  z="-403.121"',
               ' x="-147.76" y="-52.6635" z="-361.449"',
               ' x="-147.8"  y="59.0965"  z="-361.449"',
               ' x="-147.8"  y="3.21654"  z="-308.81"',
               ' x="-147.8"  y="3.21654"  z="-249.591"',
               ' x="-147.76" y="-52.6635" z="-194.487"',
               ' x="-147.8"  y="59.0965"  z="-194.487"',
               ' x="-147.76" y="-52.6635" z="-155.932"',
               ' x="-147.8"  y="59.0965"  z="-155.932"',
               ' x="-147.8"  y="3.21654"  z="-104.833"',
               ' x="-147.8"  y="3.21654"  z="-38.3029"',
               ' x="-147.76" y="-52.6635" z="13.6988"',
               ' x="-147.8"  y="59.0965"  z="13.6988"',
               ' x="-147.76" y="-52.6635" z="54.0326"',
               ' x="-147.8"  y="59.0965"  z="54.0326"',
               ' x="-147.8"  y="3.21654"  z="108.648"',
               ' x="-147.8"  y="3.21654"  z="175.178"',
               ' x="-147.76" y="-52.6635" z="229.136"',
               ' x="-147.8"  y="59.0965"  z="229.136"',
               ' x="-147.76" y="-52.6635" z="267.023"',
               ' x="-147.8"  y="59.0965"  z="267.023"',
               ' x="-147.8"  y="3.21654"  z="314.818"',
               ' x="-147.8"  y="3.21654"  z="385.004"',
               ' x="-147.76" y="-52.6635" z="434.169"',
               ' x="-147.8"  y="59.0965"  z="434.169"',
               ' x="-147.76" y="-52.6635" z="474.285"',
               ' x="-147.8"  y="59.0965"  z="474.285"',
               ' x="-147.8"  y="3.21654"  z="514.408"' );

  for ( $i=0; $i<30; ++$i )
  {
	print PMTS <<EOF;
  <physvol>
   <volumeref ref="volPMT"/>
   <position name="posPMT$i" unit="cm" @pmt_pos[$i]/>
   <rotationref ref="rPMTRotation1"/>
  </physvol>
EOF
  }

  close(PMTS);
}

